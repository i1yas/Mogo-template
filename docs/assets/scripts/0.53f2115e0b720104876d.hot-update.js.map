{"version":3,"sources":["webpack:///./app/blocks/slider/slider.js?3294"],"names":["slider","itemsParent","document","querySelector","labels","querySelectorAll","labelLines","length","progressLines","scrollToByIndex","index","lastIndex","style","opacity","width","classList","remove","elementWidth","Number","getComputedStyle","slice","scrollLeft","add","count","pause","setTimeout","autoPlay","interval","countTimeout","delay","play","startIndex","i","next","setInterval","stop","clearInterval","clearTimeout","progressLine","createElement","transition","push","appendChild","addEventListener","event","preventDefault","stepScroll","console","log","step","diff","Math","abs","indexOf","min","module","exports"],"mappings":"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","file":"0.53f2115e0b720104876d.hot-update.js","sourcesContent":["const slider = () => {\r\n\tconst itemsParent = document.querySelector('.slider__items');\r\n\tconst labels = document.querySelectorAll('.slider__nav-item');\r\n\tconst labelLines = document.querySelectorAll('.slider__line');\r\n\tconst length = labels.length;\r\n\tconst progressLines = [];\r\n\r\n\r\n\tconst scrollToByIndex = (index, lastIndex) => {\r\n\t\tif (lastIndex !== null) {\r\n\t\t\tprogressLines[lastIndex].style.opacity = 0;\r\n\t\t\tprogressLines[lastIndex].style.width = 0;\r\n\t\t\tlabels[lastIndex].classList.remove('slider__nav-item_selected');\r\n\t\t}\r\n\t\tconst elementWidth = Number(getComputedStyle(itemsParent).width.slice(0, -2));\r\n\t\titemsParent.scrollLeft = elementWidth * index;\r\n\t\tlabels[index].classList.add('slider__nav-item_selected');\r\n\t};\r\n\r\n\tconst count = (index, pause) => {\r\n\t\tprogressLines[index].style.opacity = 1;\r\n\t\tprogressLines[index].style.width = '100%';\r\n\t\treturn setTimeout(() => {\r\n\t\t\tprogressLines[index].style.opacity = 0;\r\n\t\t\tprogressLines[index].style.width = 0;\r\n\t\t}, pause);\r\n\t};\r\n\r\n\tconst autoPlay = {\r\n\t\tinterval: null,\r\n\t\tcountTimeout: null,\r\n\t\tindex: null,\r\n\t\tpause: 4000,\r\n\t\tdelay: 500,\r\n\t\tplay(startIndex) {\r\n\t\t\tlet i = startIndex;\r\n\r\n\t\t\tconst next = () => {\r\n\t\t\t\tscrollToByIndex(i, this.index);\r\n\t\t\t\tthis.countTimeout = count(i, this.pause);\r\n\t\t\t\tthis.index = i;\r\n\t\t\t\ti++;\r\n\t\t\t\tif (i === length) {\r\n\t\t\t\t\ti = 0;\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\tnext();\r\n\t\t\tthis.interval = setInterval(() => {\r\n\t\t\t\tnext();\r\n\t\t\t}, this.pause);\r\n\t\t},\r\n\t\tstop() {\r\n\t\t\tclearInterval(this.interval);\r\n\t\t\tclearTimeout(this.countTimeout);\r\n\t\t}\r\n\t};\r\n\r\n\tfor (let i = 0; i < length; i++) {\r\n\t\tconst progressLine = document.createElement('div');\r\n\t\tprogressLine.classList.add('slider__progress-line');\r\n\t\tprogressLine.style.transition = `width ${0.9 * autoPlay.pause}ms linear`;\r\n\t\tprogressLine.style.opacity = 0;\r\n\t\tprogressLines.push(progressLine);\r\n\t\tlabelLines[i].appendChild(progressLine);\r\n\t}\r\n\r\n\tautoPlay.play(0);\r\n\r\n\tfor (let i = 0; i < length; i++) {\r\n\t\tlabels[i].addEventListener('click', event => {\r\n\t\t\tautoPlay.stop();\r\n\t\t\tautoPlay.play(i);\r\n\t\t\tevent.preventDefault();\r\n\t\t});\r\n\t}\r\n\r\n\tconst stepScroll = () => {\r\n\t\tconsole.log('step')\r\n\t\tconst step = Number(getComputedStyle(itemsParent).width.slice(0, -2));\r\n\t\tconst diff = [];\r\n\t\tfor(let i = 0; i < length; i++) {\r\n\t\t\tdiff.push(Math.abs(i*step - itemsParent.scrollLeft));\r\n\t\t}\r\n\t\tconst index = diff.indexOf(Math.min(...diff));\r\n\t\tautoPlay.stop();\r\n\t\tsetTimeout(() => {\r\n\t\t\tautoPlay.play(index);\r\n\t\t}, 200)\r\n\t}\r\n\r\n\titemsParent.addEventListener('touchstart', event => {\r\n\t\tautoPlay.stop();\r\n\t});\r\n\titemsParent.addEventListener('touchend', event => {\r\n\t\tstepScroll();\r\n\t});\r\n};\r\n\r\nmodule.exports = slider;\r\n\n\n\n// WEBPACK FOOTER //\n// ./app/blocks/slider/slider.js"],"sourceRoot":""}