{"version":3,"sources":["webpack:///./app/blocks/slider/slider.js?3294"],"names":["slider","itemsParent","document","querySelector","labels","querySelectorAll","labelLines","length","scrollToByIndex","index","lastIndex","console","log","progressLines","style","width","opacity","classList","remove","elementWidth","Number","getComputedStyle","slice","scrollLeft","add","count","pause","setTimeout","autoPlay","interval","countTimeout","delay","play","startIndex","i","next","setInterval","stop","clearInterval","clearTimeout","progressLine","createElement","transition","push","appendChild","addEventListener","event","preventDefault","module","exports"],"mappings":"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","file":"0.89f9af59fa84d3eaf025.hot-update.js","sourcesContent":["//not commited yet\r\n//нужно исправить переход по кликам (таймаут отрабатывает и на старом элементе анимация продолжается)\r\n\r\n\r\nconst slider = () => {\r\n\tconst itemsParent = document.querySelector('.slider__items');\r\n\tconst labels = document.querySelectorAll('.slider__nav-item');\r\n\tconst labelLines = document.querySelectorAll('.slider__line');\r\n\tconst length = labels.length;\r\n\r\n\r\n\tconst scrollToByIndex = (index, lastIndex) => {\r\n\t\tdebugger;\r\n\t\tif (lastIndex !== null) {\r\n\t\t\tconsole.log(index, lastIndex, {\r\n\t\t\t\t0: progressLines[0].style.width,\r\n\t\t\t\t1: progressLines[1].style.width,\r\n\t\t\t\t2: progressLines[2].style.width,\r\n\t\t\t\t3: progressLines[3].style.width\r\n\t\t\t});\r\n\t\t\tprogressLines[lastIndex].style.opacity = 0;\r\n\t\t\tprogressLines[lastIndex].style.width = 0;\r\n\t\t\tlabels[lastIndex].classList.remove('slider__nav-item_selected');\r\n\t\t}\r\n\t\tconst elementWidth = Number(getComputedStyle(itemsParent).width.slice(0, -2));\r\n\t\titemsParent.scrollLeft = elementWidth * index;\r\n\t\tlabels[index].classList.add('slider__nav-item_selected');\r\n\t};\r\n\r\n\tconst count = (index, pause) => {\r\n\t\tprogressLines[index].style.opacity = 1;\r\n\t\tprogressLines[index].style.width = '100%';\r\n\t\treturn setTimeout(() => {\r\n\t\t\tprogressLines[index].style.opacity = 0;\r\n\t\t\tprogressLines[index].style.width = 0;\r\n\t\t}, pause);\r\n\t};\r\n\r\n\tconst autoPlay = {\r\n\t\tinterval: null,\r\n\t\tcountTimeout: null,\r\n\t\tindex: null,\r\n\t\tpause: 4000,\r\n\t\tdelay: 500,\r\n\t\tplay(startIndex) {\r\n\t\t\tlet i = startIndex;\r\n\r\n\t\t\tconst next = () => {\r\n\t\t\t\tscrollToByIndex(i, this.index);\r\n\t\t\t\tthis.countTimeout = count(i, this.pause);\r\n\t\t\t\tthis.index = i;\r\n\t\t\t\ti++;\r\n\t\t\t\tif (i === length) {\r\n\t\t\t\t\ti = 0;\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\tnext();\r\n\t\t\tthis.interval = setInterval(() => {\r\n\t\t\t\tnext();\r\n\t\t\t}, this.pause);\r\n\t\t},\r\n\t\tstop() {\r\n\t\t\tclearInterval(this.interval);\r\n\t\t\tclearTimeout(this.countTimeout);\r\n\t\t}\r\n\t};\r\n\r\n\tconst progressLines = [];\r\n\tfor (let i = 0; i < length; i++) {\r\n\t\tconst progressLine = document.createElement('div');\r\n\t\tprogressLine.classList.add('slider__progress-line');\r\n\t\tprogressLine.style.transition = `width ${0.9 * autoPlay.pause}ms linear`;\r\n\t\tprogressLine.style.opacity = 0;\r\n\t\tprogressLines.push(progressLine);\r\n\t\tlabelLines[i].appendChild(progressLine);\r\n\t}\r\n\r\n\tautoPlay.play(0);\r\n\r\n\tfor (let i = 0; i < length; i++) {\r\n\t\tlabels[i].addEventListener('click', event => {\r\n\t\t\tconsole.log(getComputedStyle(progressLines[i]).width)\r\n\t\t\tautoPlay.stop();\r\n\t\t\tautoPlay.play(i);\r\n\t\t\tevent.preventDefault();\r\n\t\t});\r\n\t}\r\n};\r\n\r\nmodule.exports = slider;\r\n\n\n\n// WEBPACK FOOTER //\n// ./app/blocks/slider/slider.js"],"sourceRoot":""}