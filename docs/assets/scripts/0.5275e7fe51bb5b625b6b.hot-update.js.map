{"version":3,"sources":["webpack:///./app/blocks/slider/slider.js?3294"],"names":["slider","itemsParent","document","querySelector","labels","querySelectorAll","labelLines","length","scrollToByIndex","elementWidth","Number","getComputedStyle","width","slice","scrollLeft","index","lastIndex","autoPlay","console","log","progressLines","style","opacity","classList","remove","add","count","pause","setTimeout","interval","delay","play","startIndex","i","next","setInterval","stop","clearInterval","progressLine","createElement","transition","push","appendChild","addEventListener","event","preventDefault","module","exports"],"mappings":"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","file":"0.5275e7fe51bb5b625b6b.hot-update.js","sourcesContent":["//not commited yet\r\n//нужно исправить переход по кликам (таймаут отрабатывает и на старом элементе анимация продолжается)\r\n\r\n\r\nconst slider = () => {\r\n\tconst itemsParent = document.querySelector('.slider__items');\r\n\tconst labels = document.querySelectorAll('.slider__nav-item');\r\n\tconst labelLines = document.querySelectorAll('.slider__line');\r\n\tconst length = labels.length;\r\n\r\n\r\n\tconst scrollToByIndex = index => {\r\n\t\tconst elementWidth = Number(getComputedStyle(itemsParent).width.slice(0, -2));\r\n\t\titemsParent.scrollLeft = elementWidth * index;\r\n\r\n\t\tlet lastIndex;\r\n\t\tif (autoPlay.index) {\r\n\t\t\tlastIndex = autoPlay.index;\r\n\t\t}else {\r\n\t\t\tlastIndex = index === 0 ? length - 1 : index - 1;\r\n\t\t}\r\n\r\n\t\tconsole.log('remove ', lastIndex);\r\n\t\tprogressLines[lastIndex].style.opacity = 0;\r\n\t\tlabels[lastIndex].classList.remove('slider__nav-item_selected');\r\n\t\tlabels[index].classList.add('slider__nav-item_selected');\r\n\t};\r\n\r\n\tconst count = (index, pause) => {\r\n\t\tprogressLines[index].style.opacity = 1;\r\n\t\tprogressLines[index].style.width = '100%';\r\n\t\tsetTimeout(() => {\r\n\t\t\tprogressLines[index].style.opacity = 0;\r\n\t\t\tprogressLines[index].style.width = 0;\r\n\t\t}, pause);\r\n\t};\r\n\r\n\tconst autoPlay = {\r\n\t\tinterval: null,\r\n\t\tindex: null,\r\n\t\tpause: 4000,\r\n\t\tdelay: 500,\r\n\t\tplay(startIndex) {\r\n\t\t\tlet i = startIndex;\r\n\r\n\t\t\tconst next = () => {\r\n\t\t\t\tscrollToByIndex(i);\r\n\t\t\t\tcount(i, this.pause);\r\n\t\t\t\tthis.index = i;\r\n\t\t\t\ti++;\r\n\t\t\t\tif (i === length) {\r\n\t\t\t\t\ti = 0;\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\tnext();\r\n\t\t\tthis.interval = setInterval(() => {\r\n\t\t\t\tnext();\r\n\t\t\t}, this.pause);\r\n\t\t\t// let i = startIndex;\r\n\t\t\t// this.interval = setInterval(() => {\r\n\t\t\t// \tscrollToByIndex(i);\r\n\t\t\t// \tcount(i, this.pause);\r\n\t\t\t// \tthis.index = i;\r\n\t\t\t// \ti++;\r\n\t\t\t// \tif (i === length) {\r\n\t\t\t// \t\ti = 0;\r\n\t\t\t// \t}\r\n\t\t\t// }, this.pause);\r\n\t\t},\r\n\t\tstop() {\r\n\t\t\tclearInterval(this.interval);\r\n\t\t}\r\n\t};\r\n\r\n\tconst progressLines = [];\r\n\tfor (let i = 0; i < length; i++) {\r\n\t\tconst progressLine = document.createElement('div');\r\n\t\tprogressLine.classList.add('slider__progress-line');\r\n\t\tprogressLine.style.transition = `width ${autoPlay.pause}ms linear`;\r\n\t\tprogressLine.style.opacity = 0;\r\n\t\tprogressLines.push(progressLine);\r\n\t\tlabelLines[i].appendChild(progressLine);\r\n\t}\r\n\r\n\tautoPlay.play(0);\r\n\r\n\tfor (let i = 0; i < length; i++) {\r\n\t\tlabels[i].addEventListener('click', event => {\r\n\t\t\tscrollToByIndex(i);\r\n\t\t\tautoPlay.stop();\r\n\t\t\tautoPlay.play(i);\r\n\t\t\tevent.preventDefault();\r\n\t\t});\r\n\t}\r\n};\r\n\r\nmodule.exports = slider;\r\n\n\n\n// WEBPACK FOOTER //\n// ./app/blocks/slider/slider.js"],"sourceRoot":""}